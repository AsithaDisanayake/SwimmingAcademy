<!DOCTYPE html>
<html>
<head>
	<title>Desktop Notification</title>
	
</head>
<body>
	<a href="#" id="dnperm">Request permission</a><br />
	<a href="#" id="dntrigger">Trigger</a><br />
	

	<script>
		var	dnperm = document.getElementById('dnperm');
		var	dntrigger = document.getElementById('dntrigger');

		dnperm.addEventListener('click', function(e) {
			e.preventDefault();

			if(!window.Notification) {
				alert('Sorry, notifications are not supported.');
			}else{
				Notification.requestPermission(function(p){
					if(p === 'denied') {
                         alert('You have denied notifications.');
					}else if(p === 'granted'){
						 alert('You have granted notifications.');
					}
				});
			}
 
		});

		// Simulate an event
		dntrigger.addEventListener('click', function(e){
			var notify;
			e.preventDefault();
			if(Notification.permission === 'default'){
				alert('Please allow the notification before doing this.');
				  
			}else{
			    notify= new Notification('New message',{
					   body: 'DDDDDDD',
					   tag: '123' 
			    });
					
			    notify.onclick =function(){
				    window.location = '?message=' + this.tag;
			    }
					
			}
		}); 

		
			
    </script>

</body>
</html>